<div class="col-md-12 hrm-budget-staffmember-container">

    <div class="header-container">
        <h2>Staff</h2>
        <div class="btn btn-sm btn-success" ng-click="onClickButton('newPost')">Add New Post</div>
        <div class="btn btn-sm btn-success" ng-click="onClickButton('newStaff')">Add New Staff</div>
    </div>

    <div class="content-container">
        <hr/>

        <div class="col-lg-12">
            <table class="table table-striped">
                <tr>
                    <th>Post Title</th>
                    <th>Contract Type</th>
                    <th>Grade</th>
                    <th>Occupied</th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th>Staff on post</th>
                    <th>Contract Type</th>
                    <th>Grade</th>
                    <th>Step</th>
                    <th>Basic Salary</th>
                </tr>
                <tr ng-repeat="post in posts">
                    <td>{{post.postTitle}}</td>
                    <td>{{post.contractType}}</td>
                    <td>{{post.postGrade}}</td>
                    <td ng-if="post.occupied">Occupied</td>
                    <td ng-if="!post.occupied">Vacant</td>
                    <td><div class="btn btn-xs btn-primary" ng-click="onClickButton('post', post._id)">Edit Post</div></td>
                    <td><div class="btn btn-xs btn-danger" ng-click="onClickDelete('post', post._id)">Delete Post</div></td>
                    <td ng-if="!post.occupied"><div class="btn btn-xs btn-success" ng-click="onClickButton('fillPost', post._id)">Manage Staff Member</div></td>
                    <td>
                        <div ng-repeat="staffOnPost in post.staffOnPost">
                            <span ng-if="staffOnPost.startDate <= timeNow && staffOnPost.endDate != null && staffOnPost.endDate >= timeNow">{{staffOnPost.staff.name}} <b>{{staffOnPost.staff.surname}}</b> ({{staffOnPost.staff.staffNumber}})</span>
                            <span ng-if="staffOnPost.startDate <= timeNow && staffOnPost.endDate == null">{{staffOnPost.staff.name}} <b>{{staffOnPost.staff.surname}}</b> ({{staffOnPost.staff.staffNumber}})</span>
                        </div>
                    </td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
            </table>
        </div>
        <div class="col-lg-12">
            <table class="table table-striped">
                <tr>
                    <th>Name</th>
                    <th>Surname</th>
                    <th>Staff Number</th>
                    <th>Category</th>
                    <th>Grade</th>
                    <th>Step</th>
                    <th>Start date</th>
                    <th>End date</th>
                    <th></th>
                    <th></th>
                </tr>
                <tr ng-repeat="staffMember in staffMembers">
                    <td>{{staffMember.name}}</td>
                    <td>{{staffMember.surname}}</td>
                    <td>{{staffMember.staffNumber}}</td>
                    <td>{{staffMember.stepByStep[0].category}}</td>
                    <td>{{staffMember.stepByStep[0].grade}}</td>
                    <td>{{staffMember.stepByStep[0].step}}</td>
                    <td>{{staffMember.stepByStep[0].startDate}}</td>
                    <td>{{staffMember.stepByStep[0].endDate}}</td>
                    <td><div class="btn btn-sm btn-default" ng-click="onClickButton('staffMember', staffMember._id)">Edit</div></td>
                    <td><div class="btn btn-sm btn-danger" ng-click="onClickDelete('staffMember', staffMember._id)">Delete</div></td>
                </tr>
            </table>
        </div>

    </div>


</div>
