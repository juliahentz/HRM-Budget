<div class="hrm-budget-staffmember-container">

    <div>
        <div class="icon-container" ng-click="onClickButton('newPost')"><i class="fa fa-plus" aria-hidden="true"></i></div>
        <div class="btn btn-sm buhrma-btn" ng-click="onClickButton('newPost')">Add New Post</div>
        <div class="icon-container" ng-click="onClickButton('newStaff')"><i class="fa fa-plus" aria-hidden="true"></i></div>
        <div class="btn btn-sm buhrma-btn" ng-click="onClickButton('newStaff')">Add New Staff</div>

    </div>
    <hr/>
    <br/>
    <div>
        <div class="buhrma-table-container">
            <table class="table buhrma-table">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Surname</th>
                        <th>Staff Number</th>
                        <th>Category</th>
                        <th>Grade</th>
                        <th>Step</th>
                        <th>Start date</th>
                        <th>End date</th>
                        <th>Head of Unit</th>
                        <th>TBA increase</th>
                        <th>Gender</th>
                        <th>Nationality</th>
                        <th>Birth date</th>
                        <th>Marital status</th>
                        <th>Nr of children</th>
                        <th>Fulltime %</th>
                        <th></th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="staffMember in staffMembers">
                        <td>{{staffMember.name}}</td>
                        <td>{{staffMember.surname}}</td>
                        <td>{{staffMember.staffNumber}}</td>

                        <!--todo fix the display of right element based on selected date-->

                        <td>{{staffMember.stepByStep.positionsFilled[0].category}}</td>
                        <td>{{staffMember.stepByStep.positionsFilled[0].grade}}</td>
                        <td>{{staffMember.stepByStep.positionsFilled[0].step}}</td>
                        <td>{{staffMember.stepByStep.positionsFilled[0].startDate | date:'dd/MM/yyyy'}}</td>
                        <td>{{staffMember.stepByStep.positionsFilled[0].endDate | date:'dd/MM/yyyy'}}</td>
                        <td><span ng-if="staffMember.stepByStep.positionsFilled[0].headOfUnit"><i class="fa fa-check" aria-hidden="true"></i></span></td>
                        <td><span ng-if="staffMember.stepByStep.positionsFilled[0].TBAIncrease"><i class="fa fa-check" aria-hidden="true"></i></span></td>
                        <td>{{staffMember.personalData.gender}}</td>
                        <td>{{staffMember.personalData.nationality}}</td>
                        <td>{{staffMember.personalData.birthDate | date:'dd/MM/yyyy'}}</td>
                        <td>{{staffMember.socioStatus.maritalStatus[0].status}}</td>
                        <td>{{staffMember.socioStatus.numChildren[0].status}}</td>
                        <td>{{staffMember.socioStatus.fullTimePercentage[0].status}}</td>
                        <td><div class="btn btn-xs btn-default" ng-click="onClickButton('staffMember', staffMember._id)"><i class="fa fa-pencil" aria-hidden="true"></i></div></td>
                        <td><div class="btn btn-xs btn-danger" ng-click="onClickDelete('staffMember', staffMember._id)"><i class="fa fa-trash-o" aria-hidden="true"></i></div></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!--<div>
            <table class="table table-striped">
                <tr>
                    <th>Post Title</th>
                    <th>Contract Type</th>
                    <th>Grade</th>
                    <th>Occupied</th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th>Staff on post</th>
                    <th>Contract Type</th>
                    <th>Grade</th>
                    <th>Step</th>
                    <th>Basic Salary</th>
                </tr>
                <tr ng-repeat="post in posts">
                    <td>{{post.postTitle}}</td>
                    <td>{{post.contractType}}</td>
                    <td>{{post.postGrade}}</td>
                    <td ng-if="post.occupied">Occupied</td>
                    <td ng-if="!post.occupied">Vacant</td>
                    <td><div class="btn btn-xs btn-primary" ng-click="onClickButton('post', post._id)">Edit Post</div></td>
                    <td><div class="btn btn-xs btn-danger" ng-click="onClickDelete('post', post._id)">Delete Post</div></td>
                    <td ng-if="!post.occupied"><div class="btn btn-xs btn-success" ng-click="onClickButton('fillPost', post._id)">Manage Staff Member</div></td>
                    <td>
                        <div ng-repeat="staffOnPost in post.staffOnPost">
                            <span ng-if="staffOnPost.startDate <= timeNow && staffOnPost.endDate != null && staffOnPost.endDate >= timeNow">{{staffOnPost.staff.name}} <b>{{staffOnPost.staff.surname}}</b> ({{staffOnPost.staff.staffNumber}})</span>
                            <span ng-if="staffOnPost.startDate <= timeNow && staffOnPost.endDate == null">{{staffOnPost.staff.name}} <b>{{staffOnPost.staff.surname}}</b> ({{staffOnPost.staff.staffNumber}})</span>
                        </div>
                    </td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
            </table>
        </div>-->
    </div>




</div>
